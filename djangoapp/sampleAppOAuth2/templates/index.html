{% load static %}
<html>
<head>
    <title>OAuth2 Sample App - Intuit</title>
    <link rel="stylesheet" type="text/css" href="{% static "style.css" %}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script>
        if (window.opener) {
            window.opener.location.href = '/sampleAppOAuth2/'
            window.close()
        }
    </script>
</head>
<body>
<div id="loggedIn">
</div>
<h3>Welcome to the Intuit OAuth2 Sample App!</h3>
Before using this app, please make sure you do the following:
<ul>
    <li>
        Update settings.py with your Client ID and Client Secret (found on
        <a href="https://developer.intuit.com">developer.intuit.com</a>
        )
    </li>

    <li>
        In <a href="https://developer.intuit.com">developer.intuit.com</a>,
        add an allowed Redirect URI to this sample app! (settings.py value: REDIRECT_URI)
    </li>
</ul>
<br/><br/><br/>

<!-- Sign In With Intuit Button -->
<b>Sign In With Intuit</b><br/>
<a class="imgLink" href="#" onclick="launchPopup('/sampleAppOAuth2/signInWithIntuit/')">
    <img
            style="height: 40px"
            src="{% static "IntuitSignIn-lg-white@2x.jpg" %}" alt="My image"
    />
</a>
<br/><br/><br/>

<!-- Connect To QuickBooks Button -->
<b>Connect To QuickBooks</b><br/>
<a class="imgLink" href="#" onclick="launchPopup('/sampleAppOAuth2/connectToQuickbooks/')">
    <img
            style="height: 40px"
            src="{% static 'C2QB_white_btn_lg_default.png' %}"
            onmouseover="this.src='{% static 'C2QB_white_btn_lg_hover.png' %}'"
            onmouseout="this.src='{% static 'C2QB_white_btn_lg_default.png' %}'"
    />
</a>
<br/><br/><br/>

<!-- Get App Now -->
<b>Get App Now</b><br/>
<a class="imgLink" href="/sampleAppOAuth2/getAppNow/"
   style="border: 1px solid grey; padding: 10px; display: inline-block">
    Get App Now
</a>
<br/><br/><br/>

<script>
    function launchPopup(path) {
        var win;
        var checkConnect;
        var parameters = "location=1,width=800,height=650";
        parameters += ",left=" + (screen.width - 800) / 2 + ",top=" + (screen.height - 650) / 2;

        // Launch Popup
        win = window.open(path, 'connectPopup', parameters);
    }
</script>

</body>
</html>